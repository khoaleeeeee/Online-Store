"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var n=require("react"),t=e(n),r=e(require("resize-observer-polyfill")),i=e(require("@tweenjs/tween.js"));function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}var c=function(e,n){return n&&n<t.Children.count(e)?n:0},o={linear:i.Easing.Linear.None,ease:i.Easing.Quadratic.InOut,"ease-in":i.Easing.Quadratic.In,"ease-out":i.Easing.Quadratic.Out,cubic:i.Easing.Cubic.InOut,"cubic-in":i.Easing.Cubic.In,"cubic-out":i.Easing.Cubic.Out},u=function(e){return e?o[e]:o.linear},l=function(e,n,r){var i=e.prevArrow,c=n<=0&&!e.infinite,o={"data-type":"prev","aria-label":"Previous Slide",disabled:c,onClick:r};return i?t.cloneElement(i,a({className:(i.props.className||"")+" nav "+(c?"disabled":"")},o)):t.createElement("button",Object.assign({className:"nav default-nav "+(c?"disabled":"")},o),t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"})))},s=function(e,n,r){var i=e.nextArrow,c=e.infinite,o=1;"slidesToScroll"in e&&(o=e.slidesToScroll||1);var u=n>=t.Children.count(e.children)-o&&!c,l={"data-type":"next","aria-label":"Next Slide",disabled:u,onClick:r};return i?t.cloneElement(i,a({className:(i.props.className||"")+" nav "+(u?"disabled":"")},l)):t.createElement("button",Object.assign({className:"nav default-nav "+(u?"disabled":"")},l),t.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},t.createElement("path",{d:"M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"})))},f=function(e,n,r){var i=e.indicators,c=1;"slidesToScroll"in e&&(c=e.slidesToScroll||1);var o=Math.ceil(t.Children.count(e.children)/c);return t.createElement("ul",{className:"indicators"},Array.from({length:o},(function(e,o){var u={"data-key":o,"aria-label":"Go to slide "+(o+1),onClick:r},l=Math.floor((n+c-1)/c)===o;return"function"==typeof i?function(e,n,r,i){return t.cloneElement(i,a({className:i.props.className+" "+(e?"active":""),key:n},r))}(l,o,u,i(o)):function(e,n,r){return t.createElement("li",{key:n},t.createElement("button",Object.assign({className:"each-slideshow-indicator "+(e?"active":"")},r)))}(l,o,u)})))},d={duration:5e3,transitionDuration:1e3,defaultIndex:0,infinite:!0,autoplay:!0,indicators:!1,arrows:!0,pauseOnHover:!0,easing:"linear",canSwipe:!0,cssClass:"",responsive:[]},v=t.forwardRef((function(e,a){var o=n.useState(c(e.children,e.defaultIndex)),d=o[0],v=o[1],p=n.useRef(null),h=n.useRef(null),m=new i.Group,y=n.useRef(),g=n.useRef(),E=n.useMemo((function(){return t.Children.count(e.children)}),[e.children]),w=n.useCallback((function(){if(h.current&&p.current){var e=p.current.clientWidth;h.current.style.width=e*E+"px";for(var n=0;n<h.current.children.length;n++){var t=h.current.children[n];t&&(t.style.width=e+"px",t.style.left=n*-e+"px",t.style.display="block")}}}),[p,h,E]),b=n.useCallback((function(){p.current&&(g.current=new r((function(e){e&&w()})),g.current.observe(p.current))}),[p,w]),C=n.useCallback((function(){var n=e.children,r=e.duration,i=e.infinite;e.autoplay&&t.Children.count(n)>1&&(i||d<t.Children.count(n)-1)&&(y.current=setTimeout(k,r))}),[e,d]);n.useEffect((function(){return b(),function(){m.removeAll(),clearTimeout(y.current),T()}}),[b,m]),n.useEffect((function(){clearTimeout(y.current),C()}),[d,e.autoplay,C]),n.useEffect((function(){w()}),[E,w]),n.useImperativeHandle(a,(function(){return{goNext:function(){k()},goBack:function(){M()},goTo:function(e){S(e)}}}));var T=function(){g.current&&p.current&&g.current.unobserve(p.current)},x=function(){e.pauseOnHover&&clearTimeout(y.current)},k=function(){var n=e.children;(e.infinite||d!==t.Children.count(n)-1)&&O((d+1)%t.Children.count(n))},M=function(){(e.infinite||0!==d)&&O(0===d?t.Children.count(e.children)-1:d-1)},N=function(e){"prev"===e.currentTarget.dataset.type?M():k()},O=function(n){if(!m.getAll().length){var t;null!=(t=h.current)&&t.children[n]||(n=0),clearTimeout(y.current),function e(){requestAnimationFrame(e),m.update()}();var r=new i.Tween({opacity:0,scale:1},m).to({opacity:1,scale:e.scale},e.transitionDuration).onUpdate((function(e){h.current&&(h.current.children[n].style.opacity=e.opacity,h.current.children[d].style.opacity=1-e.opacity,h.current.children[d].style.transform="scale("+e.scale+")")})).start();r.easing(u(e.easing)),r.onComplete((function(){h.current&&(v(n),h.current.children[d].style.transform="scale(1)"),"function"==typeof e.onChange&&e.onChange(d,n)}))}},S=function(e){O(e)};return t.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},t.createElement("div",{className:"react-slideshow-container "+(e.cssClass||""),onMouseEnter:x,onMouseOver:x,onMouseLeave:function(){e.pauseOnHover&&e.autoplay&&(y.current=setTimeout((function(){return k()}),e.duration))},ref:e.ref},e.arrows&&l(e,d,N),t.createElement("div",{className:"react-slideshow-fadezoom-wrapper "+e.cssClass,ref:p},t.createElement("div",{className:"react-slideshow-fadezoom-images-wrap",ref:h},(t.Children.map(e.children,(function(e){return e}))||[]).map((function(e,n){return t.createElement("div",{style:{opacity:n===d?"1":"0",zIndex:n===d?"1":"0"},"data-index":n,key:n,"aria-roledescription":"slide","aria-hidden":n===d?"false":"true"},e)})))),e.arrows&&s(e,d,N)),e.indicators&&f(e,d,(function(e){var n=e.currentTarget;n.dataset.key&&parseInt(n.dataset.key)!==d&&S(parseInt(n.dataset.key))})))}));v.defaultProps=d;var p=t.forwardRef((function(e,n){return t.createElement(v,Object.assign({},e,{scale:1,ref:n}))}));p.defaultProps=d;var h=t.forwardRef((function(e,n){return t.createElement(v,Object.assign({},e,{ref:n}))}));h.defaultProps=d;var m=t.forwardRef((function(e,a){var o,d=n.useState(c(e.children,e.defaultIndex)),v=d[0],p=d[1],h=n.useState(0),m=h[0],y=h[1],g=n.useRef(null),E=n.useRef(null),w=new i.Group,b=n.useMemo((function(){return e.slidesToScroll||1}),[e.slidesToScroll]),C=n.useMemo((function(){return e.slidesToShow||1}),[e.slidesToShow]),T=n.useMemo((function(){return t.Children.count(e.children)}),[e.children]),x=n.useMemo((function(){return m/C}),[m,C]),k=n.useRef(),M=n.useRef(),N=!1,O=0,S=n.useCallback((function(){if(E.current){E.current.style.width=m*E.current.children.length+"px";for(var e=0;e<E.current.children.length;e++){var n=E.current.children[e];n&&(n.style.width=x+"px",n.style.display="block")}}}),[m,x]),I=n.useCallback((function(){g.current&&(M.current=new r((function(e){e&&X()})),M.current.observe(g.current))}),[g]),j=n.useCallback((function(){e.autoplay&&(e.infinite||v<T-1)&&(k.current=setTimeout(P,e.duration))}),[e,T,v]);n.useEffect((function(){S()}),[m,S]),n.useEffect((function(){return I(),function(){w.removeAll(),clearTimeout(k.current),R()}}),[g,I,w]),n.useEffect((function(){clearTimeout(k.current),j()}),[v,m,e.autoplay,j]),n.useImperativeHandle(a,(function(){return{goNext:function(){P()},goBack:function(){z()},goTo:function(e){q(e)}}}));var R=function(){M&&g.current&&M.current.unobserve(g.current)},A=function(){e.pauseOnHover&&clearTimeout(k.current)},H=function(n){if(e.canSwipe){var t=n.nativeEvent instanceof TouchEvent?n.nativeEvent.touches[0].pageX:n.nativeEvent.clientX;if(N){var r=x*(v+Q()),i=t-o;if(!e.infinite&&v===T-b&&i<0)return;if(!e.infinite&&0===v&&i>0)return;E.current.style.transform="translate(-"+(r-=O=i)+"px)"}}},P=function(){if(e.infinite||v!==T-b){var n=B(v+b);L(n)}},z=function(){if(e.infinite||0!==v){var n=v-b;n%b&&(n=Math.ceil(n/b)*b),L(n)}},q=function(e){L(B(e))},B=function(e){return e<T&&e+b>T&&(T-b)%b?T-b:e},D=function(e){"next"===e.currentTarget.dataset.type?P():z()},X=function(){g.current&&y(g.current.clientWidth)},F=function(n){e.canSwipe&&(o=n.nativeEvent instanceof TouchEvent?n.nativeEvent.touches[0].pageX:n.nativeEvent.clientX,clearTimeout(k.current),N=!0)},G=function(){e.canSwipe&&(N=!1,Math.abs(O)/m>.2?O<0?P():z():Math.abs(O)>0&&L(v,300))},L=function(n,t){var r=t||e.transitionDuration,a=v,c=w.getAll();if(g.current){var o=g.current.clientWidth/C;if(!c.length){clearTimeout(k.current);var l={margin:-o*(a+Q())+O},s=new i.Tween(l,w).to({margin:-o*(n+Q())},r).onUpdate((function(e){E.current&&(E.current.style.transform="translate("+e.margin+"px)")})).start();s.easing(u(e.easing)),function e(){requestAnimationFrame(e),w.update()}(),s.onComplete((function(){O=0;var t=n;t<0?t=T-b:t>=T&&(t=0),"function"==typeof e.onChange&&e.onChange(v,t),p(t)}))}}},Q=function(){return e.infinite?C:0},U={transform:"translate(-"+(v+Q())*x+"px)"};return t.createElement("div",{dir:"ltr","aria-roledescription":"carousel"},t.createElement("div",{className:"react-slideshow-container",onMouseEnter:A,onMouseOver:A,onMouseLeave:function(){N?G():e.pauseOnHover&&e.autoplay&&(k.current=setTimeout(P,e.duration))},onMouseDown:F,onMouseUp:G,onMouseMove:H,onTouchStart:F,onTouchEnd:G,onTouchCancel:G,onTouchMove:H},e.arrows&&l(e,v,D),t.createElement("div",{className:"react-slideshow-wrapper slide "+(e.cssClass||""),ref:g},t.createElement("div",{className:"images-wrap",style:U,ref:E},e.infinite&&t.Children.toArray(e.children).slice(-C).map((function(e,n){return t.createElement("div",{"data-index":n-C,"aria-roledescription":"slide","aria-hidden":"true",key:n-C},e)})),(t.Children.map(e.children,(function(e){return e}))||[]).map((function(e,n){var r=function(e){return e<v+C&&e>=v}(n);return t.createElement("div",{"data-index":n,key:n,className:r?"active":"","aria-roledescription":"slide","aria-hidden":r?"false":"true"},e)})),function(){if(e.infinite||C!==b)return t.Children.toArray(e.children).slice(0,C).map((function(e,n){return t.createElement("div",{"data-index":T+n,"aria-roledescription":"slide","aria-hidden":"true",key:T+n},e)}))}())),e.arrows&&s(e,v,D)),e.indicators&&f(e,v,(function(e){var n=e.currentTarget;if(n.dataset.key){var t=parseInt(n.dataset.key);q(t*b)}})))}));m.defaultProps=d,exports.Fade=p,exports.Slide=m,exports.Zoom=h;
//# sourceMappingURL=react-slideshow-image.cjs.production.min.js.map
