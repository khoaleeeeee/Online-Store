{"ast":null,"code":"const Item = require(\"../models/Item\");\n\nexports.addItem = async (req, res) => {\n  try {\n    const {\n      title,\n      subtitle,\n      options,\n      description\n    } = req.body;\n    const item = await new Item({\n      title,\n      subtitle,\n      options,\n      description\n    }).save();\n    res.send({\n      title: item.title,\n      subtitle: item.subtitle,\n      images: item.options.images,\n      prices: item.options.prices,\n      description: item.description\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: error.message\n    });\n  }\n};\n\nexports.getItems = async (req, res) => {\n  try {\n    const itemsList = [];\n    Item.find({}, (err, items) => {\n      items.forEach(function (item) {\n        itemsList.push(item);\n      });\n      res.send(itemsList);\n    });\n  } catch (error) {\n    res.status(500).json({\n      message: error.message\n    });\n  }\n};\n\nexports.getAnItem = async (req, res) => {\n  try {\n    const {\n      item\n    } = req.params;\n    const itemObj = await Item.findOne({\n      title: item\n    });\n    res.send(itemObj);\n  } catch (error) {\n    res.status(500).json({\n      message: error.message\n    });\n  }\n};\n\nexports.search = async (req, res) => {\n  try {\n    const searchTerm = req.params.searchTerm;\n    const results = await Item.find({\n      $text: {\n        $search: searchTerm\n      }\n    }).select(\"title options\");\n    res.json(results);\n  } catch (error) {\n    res.status(500).json({\n      message: error.message\n    });\n  }\n};","map":{"version":3,"names":["Item","require","exports","addItem","req","res","title","subtitle","options","description","body","item","save","send","images","prices","error","status","json","message","getItems","itemsList","find","err","items","forEach","push","getAnItem","params","itemObj","findOne","search","searchTerm","results","$text","$search","select"],"sources":["/Users/khoale/Documents/Personal Projects/ecomerce/src/backend/controllers/item.js"],"sourcesContent":["const Item = require(\"../models/Item\");\n\nexports.addItem = async (req, res) => {\n  try {\n    const { title, subtitle, options, description } = req.body;\n    const item = await new Item({\n      title,\n      subtitle,\n      options,\n      description,\n    }).save();\n\n    res.send({\n      title: item.title,\n      subtitle: item.subtitle,\n      images: item.options.images,\n      prices: item.options.prices,\n      description: item.description,\n    });\n  } catch (error) {\n    res.status(500).json({ message: error.message });\n  }\n};\n\nexports.getItems = async (req, res) => {\n  try {\n    const itemsList = [];\n    Item.find({}, (err, items) => {\n      items.forEach(function (item) {\n        itemsList.push(item);\n      });\n      res.send(itemsList);\n    });\n  } catch (error) {\n    res.status(500).json({ message: error.message });\n  }\n};\n\nexports.getAnItem = async (req, res) => {\n  try {\n    const { item } = req.params;\n    const itemObj = await Item.findOne({ title: item });\n    res.send(itemObj);\n  } catch (error) {\n    res.status(500).json({ message: error.message });\n  }\n};\n\nexports.search = async (req, res) => {\n  try {\n    const searchTerm = req.params.searchTerm;\n    const results = await Item.find({\n      $text: { $search: searchTerm },\n    }).select(\"title options\");\n    res.json(results);\n  } catch (error) {\n    res.status(500).json({ message: error.message });\n  }\n};\n"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,gBAAD,CAApB;;AAEAC,OAAO,CAACC,OAAR,GAAkB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;EACpC,IAAI;IACF,MAAM;MAAEC,KAAF;MAASC,QAAT;MAAmBC,OAAnB;MAA4BC;IAA5B,IAA4CL,GAAG,CAACM,IAAtD;IACA,MAAMC,IAAI,GAAG,MAAM,IAAIX,IAAJ,CAAS;MAC1BM,KAD0B;MAE1BC,QAF0B;MAG1BC,OAH0B;MAI1BC;IAJ0B,CAAT,EAKhBG,IALgB,EAAnB;IAOAP,GAAG,CAACQ,IAAJ,CAAS;MACPP,KAAK,EAAEK,IAAI,CAACL,KADL;MAEPC,QAAQ,EAAEI,IAAI,CAACJ,QAFR;MAGPO,MAAM,EAAEH,IAAI,CAACH,OAAL,CAAaM,MAHd;MAIPC,MAAM,EAAEJ,IAAI,CAACH,OAAL,CAAaO,MAJd;MAKPN,WAAW,EAAEE,IAAI,CAACF;IALX,CAAT;EAOD,CAhBD,CAgBE,OAAOO,KAAP,EAAc;IACdX,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;MAAEC,OAAO,EAAEH,KAAK,CAACG;IAAjB,CAArB;EACD;AACF,CApBD;;AAsBAjB,OAAO,CAACkB,QAAR,GAAmB,OAAOhB,GAAP,EAAYC,GAAZ,KAAoB;EACrC,IAAI;IACF,MAAMgB,SAAS,GAAG,EAAlB;IACArB,IAAI,CAACsB,IAAL,CAAU,EAAV,EAAc,CAACC,GAAD,EAAMC,KAAN,KAAgB;MAC5BA,KAAK,CAACC,OAAN,CAAc,UAAUd,IAAV,EAAgB;QAC5BU,SAAS,CAACK,IAAV,CAAef,IAAf;MACD,CAFD;MAGAN,GAAG,CAACQ,IAAJ,CAASQ,SAAT;IACD,CALD;EAMD,CARD,CAQE,OAAOL,KAAP,EAAc;IACdX,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;MAAEC,OAAO,EAAEH,KAAK,CAACG;IAAjB,CAArB;EACD;AACF,CAZD;;AAcAjB,OAAO,CAACyB,SAAR,GAAoB,OAAOvB,GAAP,EAAYC,GAAZ,KAAoB;EACtC,IAAI;IACF,MAAM;MAAEM;IAAF,IAAWP,GAAG,CAACwB,MAArB;IACA,MAAMC,OAAO,GAAG,MAAM7B,IAAI,CAAC8B,OAAL,CAAa;MAAExB,KAAK,EAAEK;IAAT,CAAb,CAAtB;IACAN,GAAG,CAACQ,IAAJ,CAASgB,OAAT;EACD,CAJD,CAIE,OAAOb,KAAP,EAAc;IACdX,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;MAAEC,OAAO,EAAEH,KAAK,CAACG;IAAjB,CAArB;EACD;AACF,CARD;;AAUAjB,OAAO,CAAC6B,MAAR,GAAiB,OAAO3B,GAAP,EAAYC,GAAZ,KAAoB;EACnC,IAAI;IACF,MAAM2B,UAAU,GAAG5B,GAAG,CAACwB,MAAJ,CAAWI,UAA9B;IACA,MAAMC,OAAO,GAAG,MAAMjC,IAAI,CAACsB,IAAL,CAAU;MAC9BY,KAAK,EAAE;QAAEC,OAAO,EAAEH;MAAX;IADuB,CAAV,EAEnBI,MAFmB,CAEZ,eAFY,CAAtB;IAGA/B,GAAG,CAACa,IAAJ,CAASe,OAAT;EACD,CAND,CAME,OAAOjB,KAAP,EAAc;IACdX,GAAG,CAACY,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;MAAEC,OAAO,EAAEH,KAAK,CAACG;IAAjB,CAArB;EACD;AACF,CAVD"},"metadata":{},"sourceType":"module"}